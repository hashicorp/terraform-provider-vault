---
layout: "vault"
page_title: "Vault: vault_keymgmt_key_rotate resource"

description: |-
  Rotates keys in the Vault Key Management secrets engine
---

# vault\_keymgmt\_key\_rotate

Rotates a key in the Vault Key Management secrets engine. This resource creates a new version of an existing key, which is useful for implementing key rotation policies and maintaining security best practices.

Key rotation creates a new cryptographic key version while keeping the old versions available for decryption of data encrypted with previous versions.

~> **Important**
All data provided in the resource configuration will be written in cleartext to
state and plan files generated by Terraform, and will appear in the console
output when Terraform runs. Protect these artifacts accordingly. See [the main provider documentation](../index.html) for more details.

For more information on key rotation in Vault, please refer to the Vault [documentation](https://developer.hashicorp.com/vault/docs/secrets/key-management).

**Note** this feature is available only with Vault Enterprise.

## Example Usage

### Basic Key Rotation

```hcl
resource "vault_mount" "keymgmt" {
  path = "keymgmt"
  type = "keymgmt"
}

resource "vault_keymgmt_key" "encryption_key" {
  path = vault_mount.keymgmt.path
  name = "rotation-example"
  type = "aes256-gcm96"
}

resource "vault_keymgmt_key_rotate" "rotate" {
  path = vault_mount.keymgmt.path
  name = vault_keymgmt_key.encryption_key.name
}
```

## Argument Reference

The following arguments are supported:

* `namespace` - (Optional) The namespace of the target resource.
  The value should not contain leading or trailing forward slashes.
  The `namespace` is always relative to the provider's configured
  [namespace](/docs/providers/vault/index.html#namespace).
  *Available only for Vault Enterprise*.

* `path` - (Required) Path where the Key Management secrets engine is mounted.

* `name` - (Required) Name of the key to rotate (created via `vault_keymgmt_key`).

## Attributes Reference

In addition to the arguments above, the following attributes are exported:

* `id` - The unique identifier for the key rotation operation. Format: `{path}/key/{name}/rotate`

* `latest_version` - The latest version number of the key after rotation.

## Import

Key rotation resources can be imported using the format `{path}/key/{name}/rotate`, e.g.

```
$ terraform import vault_keymgmt_key_rotate.rotate keymgmt/key/rotation-example/rotate
```

~> **Note:** This resource rotates the key once when created. Subsequent `terraform apply` operations will not trigger additional rotations unless the resource is destroyed and recreated.
