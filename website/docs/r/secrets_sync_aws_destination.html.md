---
layout: "vault"
page_title: "Vault: vault_secrets_sync_aws_destination resource"
sidebar_current: "docs-vault-resource-secrets-sync-aws-destination"
description: |-
  Creates an AWS destination to synchronize secrets in Vault
---

# vault\_secrets\_sync\_aws\_destination

Creates an AWS destination to synchronize secrets in Vault. Requires Vault 1.16+.
*Available only for Vault Enterprise*.

~> **Important** All data provided in the resource configuration will be
written in cleartext to state and plan files generated by Terraform, and
will appear in the console output when Terraform runs. Protect these
artifacts accordingly. See
[the main provider documentation](../index.html)
for more details.

For more information on syncing secrets with AWS, please refer to the Vault
[documentation](https://developer.hashicorp.com/vault/docs/sync/awssm).

## Example Usage

```hcl
resource "vault_secrets_sync_aws_destination" "aws" {
  name                 = "aws-dest"
  access_key_id        = var.access_key_id
  secret_access_key    = var.secret_access_key
  region               = "us-east-1"
  secret_name_template = "vault_{{ .MountAccessor | lowercase }}_{{ .SecretPath | lowercase }}"
  custom_tags = {
    "foo" = "bar"
  }
}
```

## Argument Reference

The following arguments are supported:

* `namespace` - (Optional) The namespace to provision the resource in.
  The value should not contain leading or trailing forward slashes.
  The `namespace` is always relative to the provider's configured [namespace](/docs/providers/vault#namespace).

* `name` - (Required) Unique name of the AWS destination.

* `access_key_id` - (Optional) Access key id to authenticate against the AWS secrets manager.
  Can be omitted and directly provided to Vault using the `AWS_ACCESS_KEY_ID` environment
  variable.

* `secret_access_key` - (Optional) Secret access key to authenticate against the AWS secrets manager.
  Can be omitted and directly provided to Vault using the `AWS_SECRET_ACCESS_KEY` environment
  variable.

* `region` - (Optional) Region where to manage the secrets manager entries.
  Can be omitted and directly provided to Vault using the `AWS_REGION` environment
  variable.

* `custom_tags` - (Optional) Custom tags to set on the secret managed at the destination.

* `secret_name_template` - (Optional) Template describing how to generate external secret names.
  Supports a subset of the Go Template syntax.

## Attributes Reference

The following attributes are exported in addition to the above:

* `type` - The type of the secrets destination (`aws-sm`).

## Import

AWS Secrets sync destinations can be imported using the `name`, e.g.

```
$ terraform import vault_secrets_sync_aws_destination.aws aws-dest
```
