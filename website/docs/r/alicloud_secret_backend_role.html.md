---
layout: "vault"
page_title: "Vault: vault_alicloud_secret_backend_role resource"
sidebar_current: "docs-vault-resource-alicloud-secret-backend-role"
description: |-
  Creates a role for the AliCloud Secret Backend for Vault.
---

# vault\_alicloud\_secret\_backend\_role

Creates a role on an AliCloud Secret Backend for Vault.

~> **Important** All data provided in the resource configuration will be
written in cleartext to state and plan files generated by Terraform, and
will appear in the console output when Terraform runs. Protect these
artifacts accordingly. See
[the main provider documentation](../index.html)
for more details.

## Example Usage

### Role with AssumeRole

```hcl
resource "vault_alicloud_secret_backend" "alicloud" {
  access_key = "AKIA..."
  secret_key = "AWS secret key"
}

resource "vault_alicloud_secret_backend_role" "role" {
  backend = vault_alicloud_secret_backend.alicloud.path
  name    = "test-role"
  role_arn = "acs:ram::123456789012:role/MyRole"
  ttl     = 3600
  max_ttl = 7200
}
```

### Role with Inline Policies

```hcl
resource "vault_alicloud_secret_backend_role" "role" {
  backend = vault_alicloud_secret_backend.alicloud.path
  name    = "test-role"
  
  inline_policies = jsonencode({
    Statement = [
      {
        Action = [
          "oss:GetObject",
          "oss:PutObject"
        ]
        Effect = "Allow"
        Resource = [
          "acs:oss:*:*:my-bucket/*"
        ]
      }
    ]
    Version = "1"
  })
  
  ttl     = 3600
  max_ttl = 7200
}
```

### Role with Remote Policies

```hcl
resource "vault_alicloud_secret_backend_role" "role" {
  backend = vault_alicloud_secret_backend.alicloud.path
  name    = "test-role"
  
  # Multiple policies in format: name:PolicyName,type:PolicyType,name:PolicyName2,type:PolicyType2
  remote_policies = "name:AliyunOSSReadOnlyAccess,type:System,name:AliyunECSReadOnlyAccess,type:System"
  
  ttl     = 3600
  max_ttl = 7200
}
```

## Argument Reference

The following arguments are supported:

* `namespace` - (Optional) The namespace to provision the resource in.
  The value should not contain leading or trailing forward slashes.
  The `namespace` is always relative to the provider's configured [namespace](/docs/providers/vault/index.html#namespace).
  *Available only for Vault Enterprise*.

* `mount` - (Required) The path the AliCloud secret backend is mounted at,
  with no leading or trailing `/`s.

* `name` - (Required) The name of the role.

* `role_arn` - (Optional) The ARN of the role to assume. Required if `inline_policies` 
  and `remote_policies` are not specified. Cannot be used with `inline_policies` or 
  `remote_policies`.

* `inline_policies` - (Optional) A JSON string containing the inline policy document.
  The policy should be a valid AliCloud RAM policy document. Required if `role_arn` 
  and `remote_policies` are not specified. Cannot be used with `role_arn` or 
  `remote_policies`.

* `remote_policies` - (Optional) A comma-separated string of remote policy names and types.
  Format: `name:PolicyName,type:PolicyType,name:PolicyName2,type:PolicyType2`.
  The `type` can be either `System` or `Custom`. Required if `role_arn` and 
  `inline_policies` are not specified. Cannot be used with `role_arn` or 
  `inline_policies`.

* `ttl` - (Optional) The TTL of the generated credentials in seconds.

* `max_ttl` - (Optional) The maximum TTL of the generated credentials in seconds.

## Attributes Reference

In addition to the fields above, the following attributes are exported:

* `id` - The full path to the role of the form: `<mount>/role/<name>`.

## Import

AliCloud secret backend roles can be imported using the full path to the role
of the form: `<mount>/role/<name>` e.g.

```
$ terraform import vault_alicloud_secret_backend_role.role alicloud/role/test-role
```

~> **Note:** The `mount` field will be set to the mount path portion of the imported ID.