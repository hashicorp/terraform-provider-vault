---
layout: "vault"
page_title: "Vault: vault_generic_secret_list_v2 data source"
sidebar_current: "docs-vault-datasource-generic-secret_list_v2"
description: |-
  Lists all secrets under a given KV-V2 path
---

# vault\_generic\_secret

Lists all secrets under a given KV-V2 path in Vault.

This data source is primarily intended to be used with
[Vault's "generic" secret backend](https://www.vaultproject.io/docs/secrets/generic/index.html),
but it is also compatible with any other Vault endpoint that supports
the `vault read` command.

~> **Important** All data retrieved from Vault will be
written in cleartext to state file generated by Terraform, will appear in
the console output when Terraform runs, and may be included in plan files
if secrets are interpolated into any resource attributes.
Protect these artifacts accordingly. See
[the main provider documentation](../index.html)
for more details.

## Example Usage

### Generic secret List

```hcl
resource "vault_mount" "kv" {
  path        = "kv"
  type        = "kv"
  description = "KV Version 2 secret engine mount"
  options     = { 
    version = "2"
  }
}

resource "vault_generic_secret" "secret" {
  path = "${vault_mount.kv.path}/baz"

  data_json = <<EOT
{
  "foo":   "bar",
  "pizza": "cheese"
}
EOT
}

data "vault_generic_secret_list" "secret_list" {
  path = "${vault_mount.kv.path}/metadata"
}
```

## Argument Reference

The following arguments are supported:

* `path` - (Required) Full KV-V2 path where secrets will be listed (including `metadata` prefix).

## Required Vault Capabilities

Use of this resource requires the `read` capability on the given path.

## Attributes Reference

The following attributes are exported:

* `names` - A list of secret key names read from Vault that are configured under
the provided path.
