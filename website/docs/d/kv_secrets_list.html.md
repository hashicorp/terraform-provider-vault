---
layout: "vault"
page_title: "Vault: vault_kv_secrets_list data source"
sidebar_current: "docs-vault-datasource-kv-secrets-list"
description: |-
 Lists KV-V1 secrets at a given path in Vault
---

# vault\_kv\_secrets\_list

Lists KV-V1 secrets at a given path in Vault.

For more information on Vault's KV-V1 secret backend 
[see here](https://www.vaultproject.io/docs/secrets/kv/kv-v1).

~> **Important** All data retrieved from Vault will be
written in cleartext to state file generated by Terraform, will appear in
the console output when Terraform runs, and may be included in plan files
if secrets are interpolated into any resource attributes.
Protect these artifacts accordingly. See
[the main provider documentation](../index.html)
for more details.

## Example Usage

```hcl
resource "vault_mount" "kvv1" {
  path        = "kvv1"
  type        = "kv"
  options     = { version = "1" }
  description = "KV Version 1 secret engine mount"
}

resource "vault_kv_secret" "aws_secret" {
  path = "${vault_mount.kvv1.path}/aws-secret"
  data_json = jsonencode(
  {
    zip = "zap"
  }
  )
}

resource "vault_kv_secret" "azure_secret" {
  path = "${vault_mount.kvv1.path}/azure-secret"
  data_json = jsonencode(
  {
    foo = "bar"
  }
  )
}

data "vault_kv_secrets_list" "secrets" {
  path       = vault_mount.kvv1.path
  depends_on = [vault_kv_secret.aws_secret, vault_kv_secret.azure_secret]
}
```

## Argument Reference

The following arguments are supported:

* `namespace` - (Optional) The namespace of the target resource.
  The value should not contain leading or trailing forward slashes.
  The `namespace` is always relative to the provider's configured [namespace](/docs/providers/vault/index.html#namespace).
  *Available only for Vault Enterprise*.

* `path` - (Required) Full KV-V1 path where secrets will be listed.

## Required Vault Capabilities

Use of this resource requires the `read` capability on the given path.

## Attributes Reference

The following attributes are exported:

* `names` - List of all secret names listed under the given path.
